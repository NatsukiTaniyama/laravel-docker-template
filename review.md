# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
SELECT

### Todoモデルのallメソッドの返り値は何か
連想配列　tokenとcontent

### 配列の代わりにCollectionクラスを使用するメリットは
条件をつけて必要な要素を取り出したり、格納されている要素全てに同じ処理をかけることができる

### view関数の第1・第2引数の指定と何をしているか
第一関数でbladeファイルを指定、第二関数に渡したいデータを指定。Controllerからbladeファイルへ連想配列の形でデータを渡す役割がある。

### index.blade.phpの$todos・$todoに代入されているものは何か
$todosにはControllerで取得したCollectionインスタンスが代入されている。$todoにはCollectionインスタンスに格納されているTodoインスタンスが格納されている。

## Todo作成機能

### Requestクラスのallメソッドは何をしているか
フォームから送信された全ての値を一括で取得している。

### fillメソッドは何をしているか
連想配列で取得した値をTodoインスタンスの各プロパティに一括で代入している。

### $fillableは何のために設定しているか
->fill()によってModelに代入可能なプロパティを記述し意図しないカラムの更新を防いでいる。

### saveメソッドで実行しているSQLは何か
UPDATE

### redirect()->route()は何をしているか
リダイレクト

## その他

### テーブル構成をマイグレーションファイルで管理するメリット
・マイグレーションファイルをGitで共有することで、開発者全員が同じテーブルを作成することができる
・SQLを知らなくても、PHPコードでテーブル操作ができるため学習コストが不要
・現在のデータベースの状態を他の開発者に共有することができる
・テーブルの変更履歴が追いやすくなる

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
・up : artisanコマンドで呼び出される。データベースに新しいテーブル、カラム、またはインデックスを追加するために使用する。
・down : rollbackコマンドで呼び出される。upメソッドによって実行する操作と逆の操作を実装し、以前の状態へ戻す必要がある。

### Seederクラスの役割は何か
・SQLを直接書かずPHPコードで表現できるため可読性が高い
・シーダーファイルをgit管理することで、テストデータを開発者間で共有できる

### route関数の引数・返り値・使用するメリット
・引数にはルート名
・第一引数にアドレス、第二引数にそれによって呼び出される処理（関数やコントローラ）を指定
・返り値はそのアドレスがアクセスした際に表示される内容
・route('ルート名')を使用することでそのルートに対応するURLを生成することができる
・記述が簡潔になるため可読性が高まる
・URLの保守性が高まる（修正箇所が少なく済む）

route('todo.create') を実行した時の返り値は
http://localhost:8080/todo/create という文字列になる

### @extends・@section・@yieldの関係性とbladeを分割するメリット
・@extends：継承する親Bladeを指定。引数はパスを.区切りで指定。拡張子は省略可能。
・@section：継承先の子Blade
・@yield：@section('') ~ @endsectionで囲われた部分を親Bladeの@yieldに挿入
→@sectionと@yieldの引数に同じ文字列を指定することで紐づけている

・メリット：共通部分を別ファイルにまとめて再利用可能にする。修正箇所が最小で済む。

### @csrfは何のための記述か
CSRF対策（不特定多数の人に対して意図しないリクエスト送信をさせる攻撃）

### {{ }}とは何の省略系か
htmlspecialchars
{{ }}→phpの処理として認識され、変数がhtmlspecialchars エスケープ処理される。